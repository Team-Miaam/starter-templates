<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Loader Demo</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	</head>

	<body>
		<div id="root">
			<button type="button" id="one">Load Scene One</button>
			<button type="button" id="two">Load Scene Two</button>

			<div class="container">
				<h2>Scene Progress Loader</h2>
				<p>The .active class animates the progress bar:</p>
				<div class="progress">
					<div
						id="progress"
						class="progress-bar progress-bar-striped active"
						role="progressbar"
						aria-valuenow="20"
						aria-valuemin="0"
						aria-valuemax="100"
						style="width: 0%"
					>
						0%
					</div>
				</div>
			</div>
		</div>

		<!-- LOADING MIAAM LOCK FILE FIRST -->
		<script type="text/javascript" defer="true">
			fetch('./miaam-lock.json')
				.then(function (response) {
					return response.json();
				})
				.then(function (data) {
					window.__MIAAM__ = {
						LOCK: data,
					};
					console.log(window.__MIAAM__);
					const indexScript = document.createElement('script');
					indexScript.setAttribute('src', './dist/index.js');
					indexScript.setAttribute('type', 'type/javascript');
					document.body.appendChild(indexScript);
				})
				.catch(function (err) {
					console.log('error: ' + err);
				});
		</script>
	</body>
</html>
